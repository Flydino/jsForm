/*!
 * jQuery.jsForm v1.0.6 | (c) 2013 Niko Berger http://www.gargan.org/
 * Usage: https://github.com/corinis/jsForm
 */
(function(t,e,a){"use strict";function i(e,a){var i=t(e);this.options=t.extend({},{controls:!0,data:null,prefix:"data",validateHidden:!0,skipEmpty:!1},a),!i.attr("data-prefix")||"data"!==this.options.prefix&&""!==this.options.prefix||""!==i.attr("data-prefix")&&(this.options.prefix=i.attr("data-prefix")),this.element=e,this._init()}var s={},r={};i.prototype._init=function(){if(this._domInit(),this.options.controls)if(t.jsFormControls)t(this.element).jsFormControls();else try{"undefined"!=typeof console&&console.log("jquery.JsForm.controls not available!")}catch(e){}this._fill(this.element,this.options.data,this.options.prefix)},i.prototype._domInit=function(){var e=t(this.element),a=this,i=this.options.prefix;a._initCollection(e,i)},i.prototype._initCollection=function(e,a){var i={},s=this;t(e).data().collections=i,t(".collection",e).each(function(){var e=t(this).attr("data-field");if(e&&0===e.indexOf(a+".")){var r=t(this),n=i[e];if(n?n.push(r):i[e]=[r],s._initList(r),!r.hasClass("ui-sortable")&&r.hasClass("sortable")&&r.sortable){var o=r.attr("data-sortable");o=o?JSON.parse(o):{},r.sortable(o),r.on("sortstop",function(){s._reorder(r)})}}}),t(".add",e).each(function(){var e=t(this).attr("data-field");e&&(t(this).data("collections")||(t(this).data().collections=i[e],t(this).click(function(a){a.preventDefault(),t.each(t(this).data("collections"),function(){var a=t(this).data("template");if(a){var i=a.clone(!0);t(this).append(i),t(i).addClass("POJO"),t(i).data("pojo",{}),s._addCollectionControls(i),t(this).trigger("addCollection",[i,t(i).data().pojo]),s._fillData(i,t(i).data().pojo,e.substring(e.indexOf(".")+1)),s._initCollection(i,e.substring(e.indexOf(".")+1)),t(this).trigger("postAddCollection",[i,t(i).data().pojo])}})})))}),t(".insert",e).each(function(){var e=t(this).attr("data-field");e&&(t(this).data("collections")||(t(this).data("collections",i[t(this).attr("data-field")]),t(this).on("insert",function(a,i){if(i||(i=t(this).data().pojo),i){var r=t(this).data("beforeInsert");r&&t.isFunction(r)&&!(i=r(i))||(t.each(t(this).data("collections"),function(){var a=t(this).data("template");if(a){var r=a.clone(!0);r.addClass("POJO"),r.data().pojo=i,s._addCollectionControls(r),s._initCollection(r),t(this).trigger("addCollection",[r,t(r).data().pojo]),s._fillData(r,i,e.substring(e.indexOf(".")+1)),t(this).append(r)}}),t(this).val(""),t(this).data().pojo=null,t(this).focus())}})))}),t(".insertAction",e).each(function(){var e=t(this).attr("data-field");if(e&&!t(this).data("inserter")){var a=t(this).parent().find(".insert");a&&(t(this).data("inserter",a),t(this).click(function(e){return e.preventDefault(),t(this).data("inserter").trigger("insert"),!1}))}}),t("input.object",e).each(function(){t(this).on("update",function(){var e=t(this).data().pojo;e&&t(this).attr("data-display")&&t(this).val(s._renderObject(e,t(this).attr("data-display")))})}),t("input.blob",e).each(function(){if("file"===t(this).attr("type")){var e=t(this);t(this).on("change",function(a){var i=t(this).val().split(/\\/).pop();e.data("name",i);var s=a.target.files;s&&s.length&&t.each(s,function(){var a=new FileReader;a.onload=function(t){e.data("blob",t.target.result)},a.readAsDataURL(this),t(this).trigger("fileChange")})})}}),t(".manage",e).each(function(){var e=t(this).attr("data-field");e&&(t(this).data("collections",i[e]),t(this).click(function(){var a=t(this).attr("data-service"),i=t(this).data("collections"),r=t(this),n=t(this).attr("data-display");n&&(n=n.split(",")),DataUtils.run(a,function(a){var o=t('<select multiple="multiple"></select>');o.data("collections",i),r.data("select",o),t.each(a,function(){var e=this,a="";if(n)for(var s=0;n.length>s;s++)a+=e[n[s]]+" ";else a=e;var r=t('<option value="'+a+'">'+a+"</option>");t(i).each(function(){t(this).children().each(function(a,i){e.id===t(i).data("pojo").id&&r.attr("selected","selected")})}),o.append(r),r.data("pojo",e)}),r.after(o),r.hide(),o.multiselect({autoOpen:!0,open:function(){t(this).multiselect("widget").css("top",t(o).next().offset().top),t(this).multiselect("widget").css("left",t(o).next().offset().left),t(o).next().hide()},close:function(){r.show(),o.remove(),t(this).multiselect("destroy")}}).multiselectfilter().bind("multiselectclick multiselectcheckall multiselectuncheckall",function(){var a=t.map(t(this).multiselect("getChecked"),function(e){return t("option[value='"+e.value+"']",o).data("pojo")});t.each(t(o).data("collections"),function(){s._fillList(t(this),a,e)}),r.hide(),t(o).next().show(),t(this).multiselect("widget").css("top",t(o).next().offset().top),t(this).multiselect("widget").css("left",t(o).next().offset().left),t(o).next().hide()})})}))})},i.prototype._initList=function(t){if(!t.data("template")){var e=t.children().detach();e.removeAttr("id"),t.data("template",e)}},i.prototype._clear=function(e,a){a||(a=this.options.prefix),t(e).removeData("pojo"),t("input,select,textarea",e).each(function(){var e=t(this).attr("name");e&&0===e.indexOf(a+".")&&(e=e.substring((a+".").length),1>e.length||(t(this).removeData("pojo"),"checkbox"===t(this).attr("type")?t(this).prop("checked",!1):t(this).val(""),t(this).hasClass("blob")&&t(this).removeData("blob"),t(this).is("select")&&(t('option[selected="selected"]',this).removeAttr("selected"),t("option:first",this).attr("selected",!0),t(this).val(t("option:first",this).val()).change()),t(this).change()))}),t(".collection",e).each(function(){var e=t(this).attr("data-field");e&&0===e.indexOf(a+".")&&t(this).empty()})},i.prototype._createPojoFromInput=function(e,i,s){var r=null,n=this;return t(e).data("pojo")&&(r=t(e).data("pojo")),r&&t.extend(!0,s,r),t(e).find("input,select,textarea").each(function(){var e=t(this).attr("name");if(e&&!t(this).hasClass("transient")&&0===e.indexOf(i+".")){if(t(this).trigger("validate",!0),e=e.substring((i+".").length),1>e.length)return s=t(this).val(),!1;var r=t(this).val();if(!n.options.skipEmpty||""!==r&&""!==r.trim())if(!t(this).hasClass("emptynull")||""!==r&&""!==r.trim()?t(this).hasClass("object")||t(this).hasClass("POJO")?r=t("option:selected",this).data()&&t("option:selected",this).data().pojo?t("option:selected",this).data().pojo:t(this).data("pojo"):t(this).hasClass("blob")?r=t(this).data("blob"):""===r&&(t(this).hasClass("number")||t(this).hasClass("dateFilter")||t(this).hasClass("dateTimeFilter"))&&(r=null):r=null,t(this).hasClass("percent")&&(r=n._getNumber(r),isNaN(r)?r=0:r/=100),t(this).hasClass("number")||t(this).hasClass("currency")?(r=n._getNumber(r),isNaN(r)&&(r=0)):"checkbox"===t(this).attr("type")||"CHECKBOX"===t(this).attr("type")?r=t(this).is(":checked"):t(this).hasClass("bool")&&(r="true"===t(this).val()),-1===e.indexOf("."))s[e]=r;else{var o,l,h=e.split("."),c=s[h[0]];c&&t.isPlainObject(c)||(s[h[0]]={},c=s[h[0]]),2===h.length?c[h[1]]=r:3===h.length?(o=c[h[1]],o===a&&(o={},c[h[1]]=o),o[h[2]]=r):4===h.length&&(o=c[h[1]],l=o[h[2]],l===a&&(l={},o[h[2]]=l),o[h[2]]=r,l[h[3]]=r)}}}),s},i.prototype._fillData=function(e,i,s){var r=this,n=t(e);n.find(".field").each(function(){var e=t(this).data("name");if(e||("A"===this.nodeName.toUpperCase()?(e=t(this).attr("href"),t(this).attr("href","#")):"IMG"===this.nodeName.toUpperCase()?(e=t(this).attr("src"),0===e.indexOf("#")&&(e=e.substring(1)),t(this).attr("src","#")):e=t(this).text(),t(this).data("name",e),t(this).show()),!s||e.indexOf(s+".")>=0){var a=e;s&&(a=a.substring(s.length+1));var n=r._get(i,a);n||(n=""),t(this).hasClass("percent")&&!isNaN(n)&&(n=100*Number(n)),t.jsFormControls&&(n=t.jsFormControls.Format.format(this,n)),"A"===this.nodeName.toUpperCase()?t(this).attr("href",n):"IMG"===this.nodeName.toUpperCase()?t(this).attr("src",n):"DIV"===this.nodeName.toUpperCase()?t(this).html(n):t(this).text(n)}}),t("input",n).each(function(){var e=t(this).attr("name");if(e&&"file"!=t(this).attr("type")&&(!s||e.indexOf(s+".")>=0)){var a=e;s&&(a=a.substring(s.length+1));var n=r._get(i,a);t(this).hasClass("percent")&&!isNaN(n)?n=100*Number(n):t.isPlainObject(n)&&(t(this).data().pojo=n,t(this).addClass("POJO"),n=r._renderObject(n,t(this).attr("data-display"))),"checkbox"===t(this).attr("type")?(t(this).prop("checked",n===!0||"true"===n),t(this).change()):(n||(n=""),t.jsFormControls&&(n=t.jsFormControls.Format.format(this,n)),t(this).val(n),t(this).change())}}),t("select",n).each(function(){var e=t(this).attr("name");if(e&&(!s||e.indexOf(s+".")>=0)){var n=e;s&&(n=n.substring(s.length+1)),t(this).children("option").removeAttr("selected");var o=t(this).attr("data-key");o||(o="id");var l=r._get(i,n);if(l[o])return t(this).children("option[value='"+l[o]+"']").attr("selected",!0),t(this).val(l[o]).change(),a;t(this).hasClass("bool")&&(l=l?"true":"false"),t(this).children("option[value='"+l+"']").attr("selected",!0),t(this).val(l).change()}}),t("textarea",n).each(function(){var e=t(this).attr("name");if(e&&(!s||e.indexOf(s+".")>=0)){var a=e;s&&(a=a.substring(s.length+1)),t(this).val(r._get(i,a)),t(this).change()}})},i.prototype.get=function(e){var a=t(this.element),i=this,s=this.options.data,r=this.options.prefix,n={};s&&t.isPlainObject(s)&&(n=s),i._createPojoFromInput(a,r,n);var o=!1;return this.options.validateHidden?a.find(".invalid").each(function(){return o=!0,t(this).focus(),!1}):a.find(".invalid").filter(":visible").each(function(){return o=!0,t(this).focus(),!1}),this._getCollection(a,r,n,e)&&(o=!0),!e&&o?null:n},i.prototype._getCollection=function(e,a,i,s){var r=this,n=!1;return e.find(".collection").each(function(){if(s||!n){var e=t(this).attr("data-field");if(e&&0===e.indexOf(a+".")&&(e=e.substring((a+".").length),!(1>e.length))){var o=r._getParent(i,e,!0);-1!==e.indexOf(".")&&(e=e.substring(e.lastIndexOf(".")+1)),o[e]=[],t(this).children().each(function(){if(s||!n){var a={};a=r._createPojoFromInput(t(this),e,a),r._getCollection(t(this),e,a,s),r._isEmpty(a)?t(".invalid",this).removeClass("invalid"):(t(".invalid",this).length>0&&(n=!0),o[e].push(a))}})}}}),n},i.prototype.getData=function(){return this.options.data||(this.options.data={}),this.options.data},i.prototype.preventEditing=function(e){var i=t(this.element);if(e===a)e=i.data("disabled")?!1:!0;else if(e===i.data("disabled"))return;e?(i.find("input, textarea").each(function(){if(!t(this).closest("span.form")[0]&&"hidden"!=t(this).attr("type")){var e=t(this).val();("null"===e||null===e||"submit"===t(this).attr("type"))&&(e=""),t(this).hasClass("trueFalse")&&(e=t(this).is(":checked")?"X":"&#160;"),e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");var a=t('<span class="form">'+e+"</span>");t(this).parent().hasClass("ui-wrapper")?t(this).parent().hide().wrap(a):t(this).hide().wrap(a)}}),i.find("select").each(function(){if(!t(this).closest("span.form")[0]){var e=t(this).children(":selected").html();("null"===e||null===e)&&(e="");var a=t('<span class="form">'+e+"</span>");t(this).hasClass("ui-toggle-switch")?t(this).prev().hide().wrap(a):t(this).hide().wrap(a)}})):i.find("span.form").each(function(){var e=t(this).children("input,select,textarea,.ui-wrapper,.ui-toggle-switch").show().detach();t(this).before(e),t(this).remove()}),i.data("disabled",e)},i.prototype.validate=function(){return t(".required,.regexp,.date,.mandatory,.number,.validate",this.element).change(),t(".invalid",this.element).length>0?!1:!0},i.prototype._fill=function(e,a,i){i||(i=this.config.prefix),this._clear(e,i),t(e).addClass("POJO"),t(e).data("pojo",a),this._fillData(e,a,i),this._fillCollection(e,a,i)},i.prototype._fillCollection=function(e,a,i){var s=this;t(".collection",e).each(function(){var e=t(this),r=t(this).attr("data-field");if(a&&r&&0===r.indexOf(i+".")){var n=null,o=r;i&&(o=o.substring(i.length+1)),n=s._get(a,o),n&&s._fillList(e,n,o)}})},i.prototype._fillList=function(e,a,i,s){var r=e.data("template"),n=this;if(r&&(e.empty(),t.isArray(a))){if(-1!==i.indexOf(".")&&(i=i.substring(i.lastIndexOf(".")+1)),t(e).hasClass("sort")){var o=t(e).attr("data-sort");if(o){switch(t(e).attr("data-sorttype")){case"alpha":a.sort();break;case"alphainsensitiv":a.sort(function(t,e){return t=t[o],e=e[o],t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase()),e>t?-1:t>e?1:0});break;default:a.sort(function(t,e){return t[o]-e[o]})}t(e).attr("data-sortdesc")&&a.reverse()}}s||t.isFunction(i)&&(s=i,i=null);for(var l=0;a.length>l;l++){var h=a[l],c=r.clone(!0);c.data("pojo",h),c.addClass("POJO"),s&&s(c,h)===!1||(n._addCollectionControls(c),i&&(n._fillData(c,h,i),n._initCollection(c,i),n._fillCollection(c,h,i)),e.append(c))}}},i.prototype._addCollectionControls=function(e){var a=this;t.jsFormControls&&t(e).jsFormControls(),t(".delete",e).click(function(){var e=t(this).closest(".POJO");t(this).closest(".collection").trigger("deleteCollection",[e,t(e).data().pojo]),e.remove()}),t(".sortUp",e).click(function(){var e=t(this).closest(".POJO"),i=e.prev(".POJO");0!==i.size()&&(e.detach(),i.before(e),a._reorder(e))}),t(".sortDown",e).click(function(){var e=t(this).closest(".POJO"),i=e.next(".POJO");0!==i.size()&&(e.detach(),i.after(e),a._reorder(e))});var i=t(e).closest(".collection");i.hasClass("sortable")&&t(i).sortable&&i.sortable("refresh")},i.prototype._reorder=function(e){e.attr("data-sort")||(e=e.closest(".collection"));var a=t(e).attr("data-sort");if(!(!a||t(e).attr("data-sorttype")&&"number"!==t(e).attr("data-sorttype")||t(e).attr("data-sortdesc")&&"false"!==t(e).attr("data-sortdesc"))){var i=0;t.each(t(e).children(),function(){var e=t(this).data("pojo");e||(e={},t(this).data("pojo",e)),e[a]=i++})}},i.prototype._renderObject=function(e,a){if(!a||!e)return"";var i=this,s="";return t.each(a.split(","),function(){var t=this.trim();s+=0===t.indexOf("'")||0===t.indexOf('"')?t.substring(1,t.length-1):i._get(e,t)}),s},i.prototype._get=function(t,e,i){var s,r,n,o="";if("function"==typeof e)return e(t);if(!t)return"";if(""===e)return t;if(s=t[e],!s)try{if("string"==typeof e&&(o=e.split(".")),n=o.length)for(s=t;s&&n--;)r=o.shift(),i&&!s[r]&&(s[r]={}),s=s[r]}catch(l){}return(null===s||s===a)&&(s=""),s.trim?s.trim():s},i.prototype._getParent=function(t,e,a){return-1===e.indexOf(".")?t:(e=e.substring(0,e.lastIndexOf(".")),this._get(t,e,a))},i.prototype._getNumber=function(e){return e?t.format?t.format.number(e):((-1!=e.indexOf(",")||e.length-e.indexOf(".")>3)&&(e=e.replace(/\./g,"").replace(",",".")),Number(e)):null},i.prototype._isEmpty=function(e){if(!e)return!0;if(t.isArray(e)){if(0===e.length)return!0;for(var a=0;e.length>a;a++)if(!this._isEmpty())return!1;return!0}if(t.isPlainObject(e)){if(t.isEmptyObject(e))return!0;for(var i in e)if(!this._isEmpty(e[i]))return!1;return!0}return isNaN(e)?""===e||" "===e:0===Number(e)||-1===Number(e)?!0:!1},i.prototype._pojoDifferFromInput=function(e,i,s){var r=!1;return t("input,select,textarea",e).each(function(){if(!r){var e=t(this).attr("name");if(e&&!(t(this).hasClass("transient")||0!==e.indexOf(i+".")||(e=e.substring((i+".").length),1>e.length))){var n=t(this).val();if(""===n&&(t(this).hasClass("number")||t(this).hasClass("dateFilter")||t(this).hasClass("dateTimeFilter"))&&(n=null),(t(this).hasClass("number")||t(this).hasClass("currency"))&&(n=that._getNumber(n),isNaN(n)&&(n=0)),("checkbox"===t(this).attr("type")||"CHECKBOX"===t(this).attr("type"))&&(n=t(this).is(":checked")),-1===e.indexOf("."))s[e]!==n&&(r=!0);else{var o,l,h=e.split("."),c=s[h[0]];if(!c)return r=!0,a;2===h.length?c[h[1]]!==n&&(r=!0):3===h.length?(o=c[h[1]],o[h[2]]!==n&&(r=!0)):4===h.length&&(o=c[h[1]],l=o[h[2]],l[h[3]]!==n&&(r=!0))}}}}),r},i.prototype.equals=function(e){var i=this,s=this.element,r=this.options.prefix;if(this._pojoDifferFromInput(s,r,e))return!1;var n=!1;return t(".invalid",s).length>0?!1:(t(".collection",s).each(function(){if(!n){var s=t(this).attr("data-field");if(s&&0===s.indexOf(r+".")&&(s=s.substring((r+".").length),!(1>s.length))){var o=0;t(this).children().each(function(){if(!n){if(o>=e[s].length)return n=!0,a;var r=e[s][o++];i._pojoDifferFromInput(t(this),s,r)&&(n=!0)}}),e[s].length>o&&(n=!0)}}}),!n)},i.prototype.fill=function(t){this.clear(),this.options.data=t,this._fill(this.element,this.options.data,this.options.prefix)},i.prototype.reset=function(){this.clear(),this._fill(this.element,this.options.data,this.options.prefix)},i.prototype.clear=function(){this._clear(this.element,this.options.prefix)},i.prototype.destroy=function(){return t(this.element).each(function(){t(e).unbind(".jsForm"),t(this).removeData("jsForm")})},t.fn.jsForm=function(e){if("object"!=typeof e&&e){var s,r=Array.prototype.slice.call(arguments,1);if(0===this.length)return null;if(1===this.length&&(s=t(this).data("jsForm"))){if(0!==e.indexOf("_")&&s[e]){var n=s[e].apply(s,r);return n}return t.error("Method "+e+" does not exist on jQuery.jsForm"),!1}return this.each(function(){return s=t.data(this,"jsForm"),s?0!==e.indexOf("_")&&s[e]?s[e].apply(s,r):(t.error("Method "+e+" does not exist on jQuery.jsForm"),!1):a})}return this.each(function(){t(this).data("jsForm")||t(this).data("jsForm",new i(this,e))})},t.jsForm=function(e,a){var i=r[e];if(t.isFunction(a))i&&t.each(i,function(){a(this,t(this.element))}),s[e]=a;else if(i){var n=a,o=Array.prototype.slice.call(arguments,2);t.each(portlets,function(){this[n].apply(this,o)})}}})(jQuery,window),function(t){"use strict";function e(t){this.element=t,this._domInit()}var a={},i={};"undefined"!=typeof Handlebars&&(Handlebars.registerHelper("currency",function(e){return e?t.jsFormControls.Format.currency(e):"0"}),Handlebars.registerHelper("dec",function(e){return e?t.jsFormControls.Format.decimal(e):""}),Handlebars.registerHelper("percent",function(e){return e?t.jsFormControls.Format.decimal(100*e):"0"}),Handlebars.registerHelper("date",function(e){return e?t.jsFormControls.Format.date(e):""}),Handlebars.registerHelper("time",function(e){return e?t.jsFormControls.Format.time(e):""}),Handlebars.registerHelper("datetime",function(e){return e?t.jsFormControls.Format.dateTime(e):""}),Handlebars.registerHelper("dateTime",function(e){return e?t.jsFormControls.Format.dateTime(e):""}),Handlebars.registerHelper("timespan",function(e){return e?t.jsFormControls.Format.humanTime(e):""}),Handlebars.registerHelper("byte",function(e){return e?t.jsFormControls.Format.byte(e):""})),e.prototype._domInit=function(){var e=t(this.element);e.find("input.mandatory,textarea.mandatory").on("keyup",function(){t(this).val().length>0&&"null"!==t(this).val()?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid")}),e.find("input.mandatory,textarea.mandatory").on("change",function(){return t(this).hasClass("object")?(t(this).data().pojo?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid"),undefined):(t(this).val().length>0&&"null"!==t(this).val()?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid"),undefined)}).change(),e.find("select.mandatory").change(function(){null!==t(this).val()&&"null"!==t(this).val()&&t(this).val().length>0?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid")}).change(),e.find("input.date").each(function(){var e=t(this).attr("data-format");t(this).datepicker&&(e?t(this).datepicker({dateFormat:e}):t(this).datepicker())});var a=RegExp("^[0-9]+$");e.find("input.number").keyup(function(){var e=t(this).val();e.length>0&&(t(this).hasClass("autoclean")?t(this).val(e.replace(/[^0-9]/g,"")):a.test(t(this).val())?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid"))}).keyup(),e.find("input.regexp").each(function(){t(this).hasClass("autoclean")?t(this).data("regexp",RegExp(t(this).attr("data-regexp"),"g")):t(this).data("regexp",RegExp(t(this).attr("data-regexp"))),t(this).keyup(function(){var e=t(this).val();if(e.length>0){var a=t(this).data("regexp");t(this).hasClass("autoclean")?t(this).val(e.replace(a,"")):a.test(t(this).val())?t(this).addClass("valid").removeClass("invalid"):t(this).removeClass("valid").addClass("invalid")}else t(this).hasClass("mandatory")||t(this).removeClass("invalid").addClass("valid")}).keyup(),t(this).change(function(){t(this).keyup()})}),e.find("input.rotatestate").each(function(){var e=t(this).attr("data-state-values"),a=t(this).attr("data-state-class");if(e){try{e=JSON.parse(e)}catch(i){return}var s=t("<span></span>");t(this).attr("title")&&s.attr("title",t(this).attr("title")),t(this).attr("data-state-style")&&s.attr("style",t(this).attr("data-state-style")),s.data("states",e),s.data("control",this),s.data("activeState",null),t(this).data("control",s),a&&s.addClass(a),s.click(function(){var e=t(this).data().activeState,a=t(this).data().states,i=t(this).data().control,s=null;if(null!==e){for(var r=0;a.length>r;r++)if(a[r].value===e.value){s=r===a.length-1?a[0]:a[r+1];break}}else s=a[0];t(i).attr("value",s.value),t(i).change()}),t(this).change(function(){var e=t(t(this).data().control),a=e.data().activeState,i=e.data().states;null!==a&&e.removeClass(a["class"]);var s=t(this).val();t.each(i,function(){return this.value===s?(e.data().activeState=this,this.title&&e.attr("title",this.title),e.addClass(this["class"]),!1):undefined})}),t(this).change(),t(this).after(s),t(this).hide()}})},e.prototype.validate=function(){return t(".required,.regexp,.date,.mandatory,.number,.validate",this.element).change(),t(".invalid",this.element).length>0?!1:!0},t.fn.jsFormControls=function(a){if("object"!=typeof a&&a){var i=Array.prototype.slice.call(arguments,1);if(1==this.length){var s=t(this).data("jsFormControls");if(s){if(0!==a.indexOf("_")&&s[a]){var r=s[a].apply(s,i);return r}return t.error("Method "+a+" does not exist on jQuery.jsFormControls"),!1}}return this.each(function(){var e=t.data(this,"jsFormControls");return e?0!==a.indexOf("_")&&e[a]?e[a].apply(e,i):(t.error("Method "+a+" does not exist on jQuery.jsFormControls"),!1):undefined})}return this.each(function(){t(this).data("jsFormControls")||t(this).data("jsFormControls",new e(this,a))})},t.jsFormControls=function(e,s){var r;if(t.isFunction(s))r=i[e],r&&t.each(r,function(){s(this,t(this.element))}),a[e]=s;else if(r=i[e]){var n=s,o=Array.prototype.slice.call(arguments,2);t.each(portlets,function(){this[n].apply(this,o)})}},t.jsFormControls.Format={format:function(e,a){return t(e).hasClass("dateTime")?t.jsFormControls.Format.dateTime(a):t(e).hasClass("datetime")?t.jsFormControls.Format.dateTime(a):t(e).hasClass("date")?t.jsFormControls.Format.date(a):t(e).hasClass("currency")?t.jsFormControls.Format.currency(a):t(e).hasClass("byte")?t.jsFormControls.Format.byte(a):t(e).hasClass("number")?t.jsFormControls.Format.decimal(a):a},checkBox:function(t,e,a){return a===undefined&&(a=t,t=null),a?'<span class="ui-icon ui-icon-check">&nbsp;</span>':'<span class="ui-icon ui-icon-close">&nbsp;</span>'},_getNumber:function(e){return e?t.format?t.format.number(e):((-1!==e.indexOf(",")||e.length-e.indexOf(".")>3)&&(e=e.replace(/\./g,"").replace(",",".")),Number(e)):null},_pad:function(t){var e=10>t?"0":"";return e+=t},"byte":function(t){if(""===t||!t||isNaN(t))return t;var e=1024;if(e>t)return t+" B";var a=Math.floor(Math.log(t)/Math.log(e)),i="KMGTPE".charAt(a-1)+"B";return Math.round(10*t/Math.pow(e,a))/10+i},decimal:function(e){if(""===e||!e||isNaN(e))return e;if(t.format)return t.format.number(e,t(document).data().i18n.number.format);var a=0;Math.abs(e-Math.floor(e))>.001&&(a=2);var i=e,s=isNaN(s=Math.abs(a))?2:a,r=",",n=".",o=parseInt(i=Math.abs(+i||0).toFixed(s),10)+"",l=(l=o.length)>3?l%3:0;return(0>e?"-":"")+(l?o.substr(0,l)+n:"")+o.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+n)+(s?r+Math.abs(i-o).toFixed(s).slice(2):"")},currency:function(e,a,i){return(!i||isNaN(i))&&(i=e,e=null),i?t.jsFormControls.Format.decimal(i):a?"&#160;":""},dateTime:function(t,e,a){return(!a||isNaN(a))&&(a=t,t=null),a?this.date(a)+" "+this.time(a):e?"&#160;":""},date:function(e,a,i){if((!i||isNaN(i))&&(i=e,e=null),!i)return a?"&#160;":"";var s=new Date;s.setTime(i);var r=s.getYear();return 1900>r&&(r+=1900),t.format?t.format.date(s,t(document).data().i18n.date.shortDateFormat):this._pad(s.getDate())+"."+this._pad(s.getMonth()+1)+"."+this._pad(r)},time:function(e,a,i){if(i||(i=e,e=null),!i)return a?"&#160;":"";var s=new Date;return s.setTime(i),t.format?t.format.date(s,t(document).data().i18n.date.timeFormat):this._pad(s.getHours())+":"+this._pad(s.getMinutes())},timespan:function(t,e,a,i,s,r){a||(a=t,r=e,t=null,e=null);for(var n=a.split(":"),o=0;n.length>o;o++){var l=Number(n[o]);l&&"NaN"!==l||(l=0),n[o]=this._pad(l)}return 0>=n.length?"0:00":1==n.length?"0:"+this._pad(allowkomma?n[0]:Math.floor(n[0])):2==n.length?allowkomma?n[0]:Math.floor(n[0])+":"+this._pad(allowkomma?n[1]:Math.floor(n[1])):allowkomma?n[0]:Math.floor(n[0])+":"+this._pad(allowkomma?n[1]:Math.floor(n[1]))+":"+pad(allowkomma?n[2]:Math.floor(n[2]))},humanTime:function(t,e,a){if(a||(a=t,t=null),isNaN(a))return a&&0!==a.length?a:"-";var i=Math.floor(a/36e5);a-=36e5*i;var s=Math.floor(a/6e4);a-=6e4*s;var r=Math.floor(a/1e3);a-=1e3*r;var n="";return i>0&&(n+=i+"h ",r=0,a=0),s>0&&(n+=s+"m ",a=0),r>0&&(n+=r+"s ",a=0),a>0&&(n+=a+"ms"),n.trim()}}}(jQuery,window),String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.startsWith=function(t){return null===this||0>=this.length?!1:null===t||"null"==t||0>=t.length?!1:this.substr(0,t.length)==t?!0:!1},String.prototype.startsWithIgnoreCase=function(t){return null===this||0>=this.length?!1:null===t||"null"==t||0>=t.length?!1:this.substr(0,t.length).toLowerCase()==t.toLowerCase()?!0:!1},String.prototype.endsWith=function(t){return null===this||0>=this.length?!1:null===t||"null"==t||0>=t.length||t.length>this.length?!1:this.substr(this.length-t.length)==t?!0:!1};
//@ sourceMappingURL=dist/jquery.jsForm.min.map